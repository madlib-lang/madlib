# clang -S -emit-llvm "$1.c" -o "$1.ll"
# clang++ -S -emit-llvm "$1.cpp" -o "$1.ll"
# llvm-as-9 "$1.ll" -o "$1.bc"
# llc-9 -filetype=obj "$1.bc" -o "$1.o"
# llvm-ar-9 rc "$1.a" "$1.o"

# clang++ -dynamiclib \
#     -v "$1.o" \
#      -current_version 1.0 -compatibility_version 1.0 \
#     -fvisibility=hidden -o "$1.dylib"

clang++ -g -std=c++11 -stdlib=libc++ -c -o "$1.o" "$1.cpp"

llvm-ar-9 rc "$1.a" "$1.o"
